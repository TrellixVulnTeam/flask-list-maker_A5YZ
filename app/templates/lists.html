<head>
  <script src="https://use.fontawesome.com/65d9fe91cb.js"></script>
  <script src="{{url_for('static', filename='jquery-3.2.1.min.js')}}"></script>

  <!-- <link type="text/javascript" href="jquery-3.2.1.min.js"> -->
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/milligram/1.3.0/milligram.css">
  <script type="text/javascript">
    function makeNewField() {
      clone = $('<input type="text" name="items" id="input-field">');
      console.log("clicked!");
      $("#fields").append(clone);
      clone.focus();
    }

    $(function() {
      // $("#input-field").keypress(function(e) {
        // if(e.which == 13) {
        //   e.preventDefault();
        //   makeNewField();
      //   }
      // })

      $(document).on("keypress", "#input-field", function(e) {
        if(e.which == 13) {
        e.preventDefault();
        makeNewField();
        }
      })

      $("#plus-button").click(function() {
        makeNewField();
      })
    });
  </script>
<body>
</head>
  <h1>List Maker 2000 <span style="font-family: Courier New"><strong>DELUXE</strong></span></h1>

  {% with messages = get_flashed_messages() %}
    {% if messages %}
      {% for message in messages %}
        <p>{{ message }}</p>
      {% endfor %}
    {% endif %}
  {% endwith %}
  <div class="container">
    <div class="row">
      <div class="column column-33" style="text-align:center">
        <form action="{{url_for('printlist')}}", method="post">
          <p>
            <div id="fields">
              <input type="text" name="items" id="input-field">
            </div>
            <!-- <i class="fa fa-2x fa-plus" id="plus-button" aria-hidden="true"></i> -->
            <a href="#" id="plus-button">Add new field</a>
          </p>
          <br>
          <input type="submit" value="Print list">
        </form>

        {% for box_list in list_dict.keys() %}
          <div class="box_list">{{box_list}}</div>
          {% for item in list_dict.get(box_list) %}
            <div class="item">{{item}}</div>
          {% endfor %}
        {% endfor %}
      </div>
    </div>
  </div>
</body>
